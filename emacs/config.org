#+TITLE: Filedesless' Emacs Configuration
#+OPTIONS: toc:3

* Old file
** General configurations
*** C-x p; the opposite of C-x o
    Cycle through frames counter-clockwise
    #+BEGIN_SRC emacs-lisp
      (global-set-key (kbd "C-x p") 'previous-multiframe-window)
    #+END_SRC

*** UI stuff
    Remove clunky icons and make cursor visible
    #+BEGIN_SRC emacs-lisp
      (menu-bar-mode 1)
      (tool-bar-mode 0)
      (set-cursor-color "lightgrey")
    #+END_SRC

*** Theme
    Some nice dark theme
    #+BEGIN_SRC emacs-lisp
      (load-theme 'misterioso)
    #+END_SRC

*** Modes
    Filetype-based modes for emacs-lisp and unix configs
    #+BEGIN_SRC emacs-lisp
      (add-to-list 'auto-mode-alist '("emacs$" . emacs-lisp-mode))
      (add-to-list 'auto-mode-alist '("\\.*rc$" . conf-unix-mode))
    #+END_SRC

*** Theme
    some nice dark theme
    #+BEGIN_SRC emacs-lisp
      (load-theme 'misterioso)
    #+END_SRC

*** Whitespace cleanup on save
    Avoid clutter like trailing whitespaces
    #+BEGIN_SRC emacs-lisp
      (add-hook 'before-save-hook 'whitespace-cleanup)
    #+END_SRC

*** Custom backup directory
    Save all emacs backups~ to a single directory (also avoiding clutter)
    #+BEGIN_SRC emacs-lisp
      (setq backup-directory-alist '(("." . "~/.emacs_save")))
    #+END_SRC

*** Match parens
    Show matching parens
    #+BEGIN_SRC emacs-lisp
      (show-paren-mode 1)
    #+END_SRC

** Packages
*** Default package repository
    Use MELPA stable to fetch new packages
    #+BEGIN_SRC emacs-lisp
      (require 'package)
      (setq package-enable-at-startup nil)
      (add-to-list 'package-archives
      '("melpa-stable" . "https://stable.melpa.org/packages/"))

      (package-initialize)
    #+END_SRC

*** Evil mode
    Emacs VI Layer, for vim bindings
    #+BEGIN_SRC emacs-lisp
      (setq evil-want-C-d-scroll t)
      (setq evil-want-C-u-scroll t)
      (require 'evil)
      (evil-mode 1)
      (setq evil-normal-state-cursor'("red" box))
      (setq evil-emacs-state-cursor'("gold" box))
    #+END_SRC

*** Relative line number
    Shows relative line numbers on the leftbar
    #+BEGIN_SRC emacs-lisp
      (require 'linum-relative)
      (setq linum-relative-format "%3s \u2502 ")
      (setq linum-relative-current-symbol "Î»")
      (global-linum-mode t)
      (linum-relative-on)
    #+END_SRC

*** YAML Mode
    Provides syntax highlighting and helper for YAML files
    #+BEGIN_SRC emacs-lisp
      (require 'yaml-mode)
      (add-to-list 'auto-mode-alist '("\\.yml\\'" . yaml-mode))

      (add-hook 'yaml-mode-hook
	  '(lambda ()
	     (define-key yaml-mode-map "\C-m" 'newline-and-indent)))
    #+END_SRC

*** Interactive Haskell Mode
    Gives a Haskell REPL when editing haskell files
    #+BEGIN_SRC emacs-lisp
      (require 'haskell-interactive-mode)
      (require 'haskell-process)
      (add-hook 'haskell-mode-hook 'interactive-haskell-mode)
    #+END_SRC
